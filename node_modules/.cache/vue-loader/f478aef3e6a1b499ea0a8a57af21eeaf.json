{"remainingRequest":"/Users/yaochangfei/xjyt/office_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yaochangfei/xjyt/office_front/src/view/News.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yaochangfei/xjyt/office_front/src/view/News.vue","mtime":1588216834864},{"path":"/Users/yaochangfei/xjyt/office_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yaochangfei/xjyt/office_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCWRhdGE6ICgpID0+ICh7CgkJbmV3czogW10sCgkJY3VycmVudHBhZ2U6IDEsCgkJdG90YWxDb3VudDogMAoJfSksCgltZXRob2RzOiB7CiAgICAgICAgdG9Ub3AoaSl7CiAgICAgICAgICAgICAgICAvL+WPguaVsGnooajnpLrpl7TpmpTnmoTluYXluqblpKflsI/vvIzku6XmraTmnaXmjqfliLbpgJ/luqbvvIzkvovlpoI1MAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coaSkKICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AtPWk7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcD4wKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGM9c2V0VGltZW91dCgoKT0+dGhpcy50b1RvcChpKSwxNik7CiAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGMpOwogICAgICAgICAgICAgICAgfQogICAgICAgIH0sCgkJaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKCQkJdGhpcy5jdXJyZW50cGFnZSA9IHZhbDsKICAgICAgICAgICAgdGhpcy50b1RvcCgpCgkJCXRoaXMuJGh0dHAKCQkJCS5nZXQodGhpcy51cmwgKyAnL25ld3MvJywgewoJCQkJCXBhcmFtczogewoJCQkJCQlwYWdlOiB0aGlzLmN1cnJlbnRwYWdlCgkJCQkJfQoJCQkJfSkKCQkJCS50aGVuKHJlcyA9PiB7CgkJCQkJaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewoJCQkJCQl0aGlzLnRvdGFsQ291bnQgPSByZXMuZGF0YS5kYXRhLnRvdGFsQ291bnQ7CgkJCQkJCXRoaXMubmV3cyA9IHJlcy5kYXRhLmRhdGEubGlzdHM7CgkJCQkJCXZhciBhcnIgPSBbXTsKCQkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5uZXdzLmxlbmd0aDsgaSsrKSB7CgkJCQkJCQlhcnIucHVzaCh0aGlzLm5ld3NbaV0uZmllbGRzKTsKCQkJCQkJCXRoaXMubmV3bGlzdCA9IGFycjsKCQkJCQkJfQkKCQkJCQl9CgkJCQkJCgkJCQl9KQoJCQkJLmNhdGNoKCgpID0+IHt9KTsKCQl9LAoJCW5ld3NkZXRhaWw6IGZ1bmN0aW9uKGl0ZW0pIHsKCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2l0ZW0nLCBKU09OLnN0cmluZ2lmeShpdGVtKSk7CgkJCXRoaXMuJHJvdXRlci5wdXNoKCcvbmV3c2RldGFpbCcpOwoJCX0sCgkJZ2V0TmV3czogZnVuY3Rpb24oKSB7CgkJCXRoaXMuJGh0dHAKCQkJCS5nZXQodGhpcy51cmwgKyAnL25ld3MvJywgewoJCQkJCXBhcmFtczogewoJCQkJCQlwYWdlOiB0aGlzLmN1cnJlbnRwYWdlCgkJCQkJfQoJCQkJfSkKCQkJCS50aGVuKHJlcyA9PiB7CgkJCQkJY29uc29sZS5sb2cocmVzKTsKCQkJCQlpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CgkJCQkJCXRoaXMudG90YWxDb3VudCA9IHJlcy5kYXRhLmRhdGEudG90YWxDb3VudDsKCQkJCQkJdGhpcy5uZXdzID0gcmVzLmRhdGEuZGF0YS5saXN0czsKCgkJCQkJCS8qIHZhciBhcnIgPSBbXTsKCQkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5uZXdzLmxlbmd0aDsgaSsrKSB7CgkJCQkJCQlhcnIucHVzaCh0aGlzLm5ld3NbaV0uZmllbGRzKTsKCQkJCQkJCXRoaXMubmV3bGlzdCA9IGFycjsKCQkJCQkJCWNvbnNvbGUubG9nKGFycik7CgkJCQkJCX0gKi8KCQkJCQl9CgkJCQl9KQoJCQkJLmNhdGNoKCgpID0+IHt9KTsKCQl9Cgl9LAoJCgltb3VudGVkKCkgewoJCS8vdGhpcy5nZXREYXRhKCk7CgkJdGhpcy5nZXROZXdzKCk7Cgl9Cn07Cg=="},{"version":3,"sources":["News.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"News.vue","sourceRoot":"src/view","sourcesContent":["<template>\n\t<!-- 新闻中心 -->\n\t<div id=\"newscontent\">\n\t\t<div class='topban'>\n\t\t\t<img class=\"ban\" src=\"../assets/images/news-banner.png\" alt />\n\t\t\t<div class=\"banner-pop\"><div class=\"company-name\">新闻中心</div></div>\n\t\t</div>\n\t\t<div class=\"new-list\">\n\t\t\t<router-link :to=\"{ name: 'newsdetail', params: { id: item.id } }\" v-for=\"item in news\" v-bind:key=\"item.id\">\n\t\t\t\t<div class=\"news-item\">\n\t\t\t\t\t<div class=\"news-img\"><img class=\"news-img-left\" :src=\"item.img\" alt /></div>\n\t\t\t\t\t<div class=\"news-information\">\n\t\t\t\t\t\t<div class=\"news-title\">{{ item.title }}</div>\n\t\t\t\t\t\t<div class=\"news-time\">{{ item.creat_at | dateformat('YYYY-MM-DD') }}</div>\n\t\t\t\t\t\t<div class=\"news-describe\">{{ item.info }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</router-link>\n\t\t\t<div class=\"pagyer\">\n\t\t\t\t<el-pagination\n\t\t\t\t\tlayout=\"prev, pager, next\"\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\t\t:current-page=\"currentpage\"\n\t\t\t\t\t:hide-on-single-page=\"true\"\n\t\t\t\t\t:page-size=\"6\"\n\t\t\t\t\t:total=\"totalCount\"\n\t\t\t\t\t@click=\"toTop\"\n\t\t\t\t></el-pagination>\n\t\t\t</div>\n\t\t</div>\n\t\t<Foot></Foot>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata: () => ({\n\t\tnews: [],\n\t\tcurrentpage: 1,\n\t\ttotalCount: 0\n\t}),\n\tmethods: {\n        toTop(i){\n                //参数i表示间隔的幅度大小，以此来控制速度，例如50\n                console.log(i)\n                document.documentElement.scrollTop-=i;\n                if (document.documentElement.scrollTop>0) {\n                    var c=setTimeout(()=>this.toTop(i),16);\n                }else {\n                    clearTimeout(c);\n                }\n        },\n\t\thandleCurrentChange(val) {\n\t\t\tthis.currentpage = val;\n            this.toTop()\n\t\t\tthis.$http\n\t\t\t\t.get(this.url + '/news/', {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tpage: this.currentpage\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tthis.totalCount = res.data.data.totalCount;\n\t\t\t\t\t\tthis.news = res.data.data.lists;\n\t\t\t\t\t\tvar arr = [];\n\t\t\t\t\t\tfor (let i = 0; i <= this.news.length; i++) {\n\t\t\t\t\t\t\tarr.push(this.news[i].fields);\n\t\t\t\t\t\t\tthis.newlist = arr;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch(() => {});\n\t\t},\n\t\tnewsdetail: function(item) {\n\t\t\tlocalStorage.setItem('item', JSON.stringify(item));\n\t\t\tthis.$router.push('/newsdetail');\n\t\t},\n\t\tgetNews: function() {\n\t\t\tthis.$http\n\t\t\t\t.get(this.url + '/news/', {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tpage: this.currentpage\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tthis.totalCount = res.data.data.totalCount;\n\t\t\t\t\t\tthis.news = res.data.data.lists;\n\n\t\t\t\t\t\t/* var arr = [];\n\t\t\t\t\t\tfor (let i = 0; i <= this.news.length; i++) {\n\t\t\t\t\t\t\tarr.push(this.news[i].fields);\n\t\t\t\t\t\t\tthis.newlist = arr;\n\t\t\t\t\t\t\tconsole.log(arr);\n\t\t\t\t\t\t} */\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {});\n\t\t}\n\t},\n\t\n\tmounted() {\n\t\t//this.getData();\n\t\tthis.getNews();\n\t}\n};\n</script>\n\n<style scoped>\n/* #newscontent{ */\n.ban {\n\twidth: 100%;\n\theight: auto;\n}\n.banner-pop {\n\twidth: 100%;\n\theight: auto;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcolor: #ffffff;\n\ttext-align: center;\n\tpadding-top: 209px;\n\tbox-sizing: border-box;\n}\n\n.company-name {\n\tfont-size: 56px;\n}\n.new-list {\n\twidth: 65%;\n\theight: auto;\n\tmargin: 72px auto;\n}\n\n.news-item {\n\twidth: 83%;\n\theight: 248px;\n\tborder-bottom: 1px solid #f5f5f5;\n\tmargin: 0 auto;\n}\n.news-item:hover {\n\tcursor: pointer;\n}\n.news-img {\n\twidth: 30%;\n\theight: 100%;\n\tfloat: left;\n}\n\n.news-img-left {\n\twidth: 178px;\n\theight: 124px;\n\tdisplay: block;\n\tmargin: 62px auto;\n}\n\n.news-information {\n\twidth: 70%;\n\theight: 100%;\n\tfloat: left;\n\tpadding-top: 62px;\n\tbox-sizing: border-box;\n}\n\n.news-title {\n\tcolor: #202020;\n\tfont-size: 18px;\n\theight: 25px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: -webkit-box;\n\t-webkit-box-orient: vertical;\n\t-webkit-line-clamp: 1;\n\tfont-weight: bold;\n}\n.news-title:hover {\n\tcolor:#3C88FF;\n}\n\n.news-time {\n\tcolor: #999999;\n\tfont-size: 12px;\n\tline-height: 30px;\n\tfont-weight: 400;\n}\n\n.news-describe {\n\tcolor: #202020;\n\tfont-size: 14px;\n\tline-height: 30px;\n\theight: 90px;\n\tfont-weight: 400;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: -webkit-box;\n\t-webkit-box-orient: vertical;\n\t-webkit-line-clamp: 3;\n}\n.news-describe:hover {\n\tcolor:#3C88FF;\n}\n.pagyer {\n\tmargin-top: 20px;\n\tfloat: right;\n}\n/* @media screen and (max-width: 1300px) {\n\t.new-list {\n\t\twidth: 85%;\n\t}\n} */\n@media screen and (max-width: 1300px) {\n\t.new-list {\n\t\twidth: 95%;\n\t}\n\t.banner-pop {\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tcolor: #ffffff;\n\t\ttext-align: center;\n\t\tpadding-top: 165px;\n\t\tbox-sizing: border-box;\n\t}\n\t.company-name {\n\t\tfont-size: 30px;\n\t}\n}\n@media screen and (max-width: 960px) {\n\t.banner-pop {\n\t\tpadding-top: 105px;\n\t}\n}\n@media screen and (max-width: 750px) {\n\t.topban{\n\t\tmargin-top: 44px;\n\t}\n\t.banner-pop {\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tcolor: #ffffff;\n\t\ttext-align: center;\n\t\tpadding-top: 30px;\n\t\tbox-sizing: border-box;\n\t}\n\t.company-name {\n\t\tfont-size: 18px;\n\t}\n\t.new-list {\n\t\twidth: 100%;\n\t\tmargin: 10px auto 90px auto;\n\t}\n\t.news-item {\n\t\twidth: 93%;\n\t\theight: 96px;\n\t}\n\t.news-img-left {\n\t\twidth: 89px;\n\t\theight: 62px;\n\t\tdisplay: block;\n\t\tmargin: 12px auto;\n\t}\n\t.news-information {\n\t\tpadding-right: 10px;\n\t\tpadding-top: 10px;\n\t\tbox-sizing: border-box;\n\t}\n\t.news-title {\n\t\tcolor: #202020;\n\t\tfont-size: 14px;\n\t\theight: auto;\n\t\tline-height: 22px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 2;\n\t\tfont-weight: bold;\n\t}\n\t.news-time {\n\t\tcolor: #999999;\n\t\tfont-size: 12px;\n\t\tline-height: 20px;\n\t\tfont-weight: 400;\n\t}\n\t.news-describe {\n\t\tdisplay: none;\n\t}\n}\n</style>\n<style>\n\t.el-pager li {\n\t\tline-height: 26px;\n\t\tpadding: 0 10px;\n\t}\n\t.el-pager li.active {\n\t    color: #333333;\n\t    cursor: default;\n\t}\n\t.el-pager li {\n\t    color: #999999;\n\t    cursor: default;\n\t}\n\t.el-pager li:hover {\n\t    color: #333333;\n\t    cursor: pointer;\n\t}\n@media screen and (max-width: 750px) {\n\t.el-pager li {\n\t\tline-height: 26px;\n\t\tpadding: 0 10px;\n\t}\n}\n</style>\n"]}]}